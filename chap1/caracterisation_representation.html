
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Représentation et caractérisation des échantillons de données &#8212; physexp2</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lois de probabilités et mesures expérimentales" href="../chap2/chap2.html" />
    <link rel="prev" title="Définition ensembliste et propriétés des probabilités" href="ensemble.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">physexp2</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../orga/orga.html">
   Informations générales
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../orga/objectif.html">
     Objectifs pédagogiques
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../orga/TP.html">
     Organisation des Travaux pratiques
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../orga/notation.html">
     Évaluations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="chap1.html">
   Concepts de statistiques en physique expérimentale
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="stats.html">
     La place des statistiques en physique expérimentale
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="population.html">
     Population, probabilité et échantillon
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ensemble.html">
     Définition ensembliste et propriétés des probabilités
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Représentation et caractérisation des échantillons de données
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../chap2/chap2.html">
   Lois de probabilités et mesures expérimentales
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../chap2/proba.html">
     Probabilité
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chap2/loi-proba.html">
     Loi de probabilité usuelles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chap2/erreur.html">
     Notion d’erreur sur une mesure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../chap3/chap3.html">
   Ajustement de modèles sur des données
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../chap3/principe.html">
     Principe de l’ajustement
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chap3/fit-sans-erreur.html">
     Ajustement avec des données sans erreurs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chap3/fit-avec-erreur.html">
     Ajustement avec des données avec erreurs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../appendix/outils-python.html">
   Aide avec python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/python-base.html">
     Les bases
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/variables.html">
     Types de variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/conditions.html">
     Conditionalité, répétition et fonctions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/modules.html">
     Importation et utilisation de modules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/io.html">
     Lecture et écriture de fichiers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/modules_utiles.html">
     Modules utiles
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/guiguem/physexp2/main?urlpath=tree/docs/chap1/caracterisation_representation.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/guiguem/physexp2"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/chap1/caracterisation_representation.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representation-graphique">
   Représentation graphique
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#moyenne-et-ecart-types">
   Moyenne et écart-types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mesure-de-position">
     Mesure de position
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mesure-de-dispersion">
     Mesure de dispersion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#covariance-et-correlations">
   Covariance et corrélations
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Représentation et caractérisation des échantillons de données</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representation-graphique">
   Représentation graphique
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#moyenne-et-ecart-types">
   Moyenne et écart-types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mesure-de-position">
     Mesure de position
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mesure-de-dispersion">
     Mesure de dispersion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#covariance-et-correlations">
   Covariance et corrélations
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="representation-et-caracterisation-des-echantillons-de-donnees">
<h1>Représentation et caractérisation des échantillons de données<a class="headerlink" href="#representation-et-caracterisation-des-echantillons-de-donnees" title="Permalink to this headline">#</a></h1>
<p>Généralement, les données collectées lors d’une expérience sont nombreuses.
Par exemple, les relevés météorologiques permettant la prédiction de la météo du lendemain sont à la fois fréquentes (plusieurs relevés par heure) et variées (plusieurs mesures faites).
Le tableau ci-dessous montre une partie des données météorologiques relevée sur Paris le 13 septembre 2020, extraite du site <a class="reference external" href="https://www.meteoblue.com">MeteoBlue</a>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Temps</p></th>
<th class="head"><p>Température (Celsius)</p></th>
<th class="head"><p>Humidité relative (%)</p></th>
<th class="head"><p>Pression (hPa)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200913T0000</p></td>
<td><p>17.886375</p></td>
<td><p>66.0</p></td>
<td><p>1023.8</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T0100</p></td>
<td><p>16.866377</p></td>
<td><p>72.0</p></td>
<td><p>1023.8</p></td>
</tr>
<tr class="row-even"><td><p>20200913T0200</p></td>
<td><p>16.226376</p></td>
<td><p>75.0</p></td>
<td><p>1024.4</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T0300</p></td>
<td><p>15.726377</p></td>
<td><p>77.0</p></td>
<td><p>1024.4</p></td>
</tr>
<tr class="row-even"><td><p>20200913T0400</p></td>
<td><p>15.236376</p></td>
<td><p>80.0</p></td>
<td><p>1023.8</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T0500</p></td>
<td><p>14.7663765</p></td>
<td><p>81.0</p></td>
<td><p>1023.5</p></td>
</tr>
<tr class="row-even"><td><p>20200913T0600</p></td>
<td><p>14.336376</p></td>
<td><p>83.0</p></td>
<td><p>1023.7</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T0700</p></td>
<td><p>13.906376</p></td>
<td><p>84.0</p></td>
<td><p>1024.3</p></td>
</tr>
<tr class="row-even"><td><p>20200913T0800</p></td>
<td><p>13.836376</p></td>
<td><p>83.0</p></td>
<td><p>1024.8</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T0900</p></td>
<td><p>15.116376</p></td>
<td><p>78.0</p></td>
<td><p>1025.1</p></td>
</tr>
<tr class="row-even"><td><p>20200913T1000</p></td>
<td><p>17.036377</p></td>
<td><p>71.0</p></td>
<td><p>1025.3</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T1100</p></td>
<td><p>19.866377</p></td>
<td><p>63.0</p></td>
<td><p>1025.1</p></td>
</tr>
<tr class="row-even"><td><p>20200913T1200</p></td>
<td><p>22.496376</p></td>
<td><p>51.0</p></td>
<td><p>1024.8</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T1300</p></td>
<td><p>24.236376</p></td>
<td><p>42.0</p></td>
<td><p>1024.6</p></td>
</tr>
<tr class="row-even"><td><p>20200913T1400</p></td>
<td><p>24.416376</p></td>
<td><p>37.0</p></td>
<td><p>1024.7</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T1500</p></td>
<td><p>25.706377</p></td>
<td><p>33.0</p></td>
<td><p>1024.2</p></td>
</tr>
<tr class="row-even"><td><p>20200913T1600</p></td>
<td><p>26.776377</p></td>
<td><p>31.0</p></td>
<td><p>1023.6</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T1700</p></td>
<td><p>27.576376</p></td>
<td><p>29.0</p></td>
<td><p>1023.2</p></td>
</tr>
<tr class="row-even"><td><p>20200913T1800</p></td>
<td><p>28.016376</p></td>
<td><p>27.0</p></td>
<td><p>1022.4</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T1900</p></td>
<td><p>27.866377</p></td>
<td><p>28.0</p></td>
<td><p>1022.4</p></td>
</tr>
<tr class="row-even"><td><p>20200913T2000</p></td>
<td><p>27.316376</p></td>
<td><p>29.0</p></td>
<td><p>1022.4</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T2100</p></td>
<td><p>26.496376</p></td>
<td><p>30.0</p></td>
<td><p>1022.9</p></td>
</tr>
<tr class="row-even"><td><p>20200913T2200</p></td>
<td><p>25.496376</p></td>
<td><p>30.0</p></td>
<td><p>1023.4</p></td>
</tr>
<tr class="row-odd"><td><p>20200913T2300</p></td>
<td><p>24.046375</p></td>
<td><p>30.0</p></td>
<td><p>1023.1</p></td>
</tr>
</tbody>
</table>
<p>Utilisé seulement des tables de données brutes pour extraire des comportements globaux (comme l’évolution de la pression durant la journée) est souvent très difficiles; il est alors utile de trouver des représentations des données brutes plus visuelles ou bien permettant de réduire la complexité en quelques nombres-clés.</p>
<section id="representation-graphique">
<h2>Représentation graphique<a class="headerlink" href="#representation-graphique" title="Permalink to this headline">#</a></h2>
<p>Une première façon simple consiste à représenter des données sous forme de graphique.
On pourra consulter la section \ref{app:matplotlib} pour des exemples de code pour créer les graphiques suivants.
Faisons une représentation temporelle des données.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># importer matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Lire le fichier depuis internet (on sautera les 10 premières lignes)</span>
<span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://github.com/guiguem/physexp2/releases/download/v1/meteo.csv&#39;</span>
<span class="n">df</span> <span class="o">=</span>  <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Extraction des dates des mesures</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">date_objects</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">T%H%M&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">dates</span><span class="p">]</span>
<span class="c1"># Extraction des valeurs de températeurs, d&#39;hygrométrie et de pression (on utilise `pd.to_numeric` pour convertir en valeurs numériques)</span>
<span class="n">temperatures</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">hygrometries</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">pressures</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

<span class="c1"># On prépare la figure</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">70</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">%m&quot;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">%m&quot;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">)</span> <span class="c1"># plot de y1 vs x</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Température [C]&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Dates&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="c1"># On affiche les données sur ce deuxième axe</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">date_objects</span><span class="p">,</span><span class="n">temperatures</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">)</span>

<span class="c1"># On créé un second axe pour l&#39;humidité</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">-%m&quot;</span><span class="p">))</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">-%m&quot;</span><span class="p">))</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Humidité relative [%]&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
<span class="c1"># On affiche les données sur ce deuxième axe</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">date_objects</span><span class="p">,</span> <span class="n">hygrometries</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7faa6cd5b220&gt;]
</pre></div>
</div>
<img alt="../_images/caracterisation_representation_2_1.png" src="../_images/caracterisation_representation_2_1.png" />
</div>
</div>
<p>Ce type de représentation permet d’étudier graphiquement les similarités de variations temporelles des quantités physiques (ici la temperature et l’humidité) et comment elles évoluent dans le temps. Une autre représentation consiste à afficher simplement chaque mesures par couple (i.e. en un instant donné) comme sur la figure suivante.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;tab:blue&#39;</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hygrometries</span><span class="p">,</span><span class="n">temperatures</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Température [C]&quot;</span><span class="p">)</span>  <span class="c1"># we already handled the x-label with ax1</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Humidité relative [%]&quot;</span><span class="p">)</span>  <span class="c1"># we already handled the x-label with ax1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Humidité relative [%]&#39;)
</pre></div>
</div>
<img alt="../_images/caracterisation_representation_4_1.png" src="../_images/caracterisation_representation_4_1.png" />
</div>
</div>
<p>Ce type de graphique permet de bien observer que, par exemple, lorsque la température diminue, l’humidité relative a tendance à augmenter et permet de mettre en évidence une <strong>corrélation</strong> entre ces deux quantités.</p>
<p>Enfin une dernière représentation intéressante est l’<strong>histogramme</strong>.
Pour construire un histogramme, on se donne une liste d’intervalles ou <strong>classes</strong> (en anglais, on parle souvent de <strong>bin</strong>.) couvrant toutes les valeurs mesurées et on va compter le nombre de fois que les valeurs issues de la mesure tombe dans un de ces intervalles.
Par exemple, si l’on s’intéresse à la température, on peut créer des intervalles de largeur <span class="math notranslate nohighlight">\(2^{\circ}\mathrm{C}\)</span> et ranger chaque valeur dans ces intervalles.
Si on représente la quantité de mesures dans chaque intervalle, on obtient la figure ci-dessous.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">bins_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">14</span><span class="p">)]</span>
<span class="n">n</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">patches</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">temperatures</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">bins_list</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Température [C]&quot;</span><span class="p">)</span>  <span class="c1"># we already handled the x-label with ax1</span>
<span class="n">bin_max</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="n">n</span><span class="o">.</span><span class="n">max</span><span class="p">())[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">mode_temp</span> <span class="o">=</span> <span class="p">(</span> <span class="n">bins</span><span class="p">[</span><span class="n">bin_max</span><span class="p">]</span> <span class="o">+</span> <span class="n">bins</span><span class="p">[</span><span class="n">bin_max</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="o">/</span><span class="mf">2.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/caracterisation_representation_6_0.png" src="../_images/caracterisation_representation_6_0.png" />
</div>
</div>
<p>Les classes utilisées pour cet histogramme sont (en degrés Celsius): <span class="math notranslate nohighlight">\(\left[10, 12\right]\)</span>, <span class="math notranslate nohighlight">\(\left[12, 14\right]\)</span>, … and <span class="math notranslate nohighlight">\(\left[34, 36\right]\)</span>.
Notons que chaque classe est alors définie par une borne supérieure et inférieure, ainsi qu’un centre.
Cela permet d’estimer les propriétés de localisation et de dispersion des mesures ou bien évaluer le caractère aléatoire des données.</p>
</section>
<section id="moyenne-et-ecart-types">
<span id="content-chap1-moyenne-ecart-types"></span><h2>Moyenne et écart-types<a class="headerlink" href="#moyenne-et-ecart-types" title="Permalink to this headline">#</a></h2>
<p>Les statistiques consistent à inférer les propriétés des probabilités sous-jacentes aux mesures physiques à partir de celles-ci.
Les représentations graphiques sont un moyen visuel de le faire.
Cependant, il est parfois utile de définir plusieurs grandeurs permettant de caractériser la distribution des données.</p>
<section id="mesure-de-position">
<h3>Mesure de position<a class="headerlink" href="#mesure-de-position" title="Permalink to this headline">#</a></h3>
<p>Une des mesures de position les plus connues est la <strong>moyenne</strong> de l’échantillon <span class="math notranslate nohighlight">\(\left\{x_i\right\}_{i\in \left\{1,n\right\}}\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-def-moyenne">
<span class="eqno">(11)<a class="headerlink" href="#equation-def-moyenne" title="Permalink to this equation">#</a></span>\[ 
\overline{x} = \frac{1}{n}\left( x_1+x_2+...+x_n \right) = \frac{1}{n}\sum _{i=1}^n x_i.
\]</div>
<p>Par exemple, on peut calculer la moyenne des températures de la semaine 38 de 2020.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La température moyenne vaut </span><span class="si">{:.2f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">temperatures</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>La température moyenne vaut 23.25 C
</pre></div>
</div>
</div>
</div>
<p>On peut aussi utiliser la <strong>médiane</strong> pour un échantillon ordonné, qui correspond à la valeur qui sépare l’échantillon en deux parties de même taille.
Si la taille de l’échantillon est impaire, alors la médiane est forcément égale à un des éléments de l’échantillon : par exemple, pour l’échantillon <span class="math notranslate nohighlight">\(\left[ 1, 3, 5, 7, 9 \right]\)</span>, la médiane est <span class="math notranslate nohighlight">\(5\)</span>.
En revanche, si la taille est paire, la médiane correspond à la moyenne arithmétique de deux éléments: par exemple, pour l’échantillon <span class="math notranslate nohighlight">\(\left[ 1, 3, 5, 7 \right]\)</span>, la médiane est <span class="math notranslate nohighlight">\(\frac{1}{2}\left( 3+5\right) = 4\)</span>.
Calculons la médiane dans le cas de nos températures.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La température médiane vaut </span><span class="si">{:.2f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">temperatures</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>La température médiane vaut 23.32 C
</pre></div>
</div>
</div>
</div>
<p>On voit que celle-ci est proche de la moyenne, mais pas égale.
Cette similarité est due à la distribution assez symétrique des données autour de la moyenne sur l’histogramme des températures.</p>
<p>Enfin, le <strong>mode</strong> correspond à la valeur qui a été obtenue le plus de fois.
Cette valeur naturellement n’existe que pour des valeurs discrètes (comme pour un lancer de dé): par exemple, dans l’échantillon <span class="math notranslate nohighlight">\(\left\{1, 2, 1, 3, 1, 5, 2\right\}\)</span>, le mode est <span class="math notranslate nohighlight">\(1\)</span>.
Cependant, pour un échantillon de valeurs continues comme la température, il est possible de l’extraire en définissant d’abord un histogramme, puis en prenant la valeur du centre de la classe qui contient le plus d’élément.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Le mode des températures vaut </span><span class="si">{:.0f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode_temp</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Le mode des températures vaut 27 C
</pre></div>
</div>
</div>
</div>
</section>
<section id="mesure-de-dispersion">
<h3>Mesure de dispersion<a class="headerlink" href="#mesure-de-dispersion" title="Permalink to this headline">#</a></h3>
<p>Comme les mesures de position permettent de réduire la distribution en une quantité numérique, les mesures de dispersions permettent de caractériser l’étalement des données autour d’une valeur particulière : généralement on considère l’étalement autour de la valeur moyenne.</p>
<p>La <strong>variance</strong> de l’échantillon autour de sa moyenne est définie par:</p>
<div class="math notranslate nohighlight" id="equation-def-variance-stats">
<span class="eqno">(12)<a class="headerlink" href="#equation-def-variance-stats" title="Permalink to this equation">#</a></span>\[
var(x) = \sigma ^2 = \frac{1}{n}\sum _i (x_i - \overline{x})^2.
\]</div>
<p>La variance est la moyenne des écarts à la moyenne.
Effectivement, il est parfois utile de la réécrire sous la forme:</p>
<div class="math notranslate nohighlight">
\[var(x) = = \frac{1}{n}\sum _i x_i ^2 + \frac{1}{n} \sum _i \overline{x}^2 - \frac{2}{n}\sum _i x_i \times \overline{x} = \frac{1}{n}\sum _i x_i ^2 - \frac{1}{n} \sum _i \overline{x}^2 = \overline{x^2} - \overline{x}^2.\]</div>
<p>La racine carrée de la variance est appelée <strong>écart-type</strong> et notée souvent <span class="math notranslate nohighlight">\(\sigma\)</span>.
L’écart-type caractérise la dispersion des valeurs de l’échantillon autour de la valeur moyenne et est fréquemment utilisé pour estimer une incertitude de mesure (nous y reviendrons dans le chapitre 2).
Cette caractéristique s’applique bien à l’échantillon des températures.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;L&#39;écart-type vaut </span><span class="si">{:.2f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">temperatures</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>L&#39;écart-type vaut 5.24 C
</pre></div>
</div>
</div>
</div>
<p>On peut aussi définir l’<strong>espace interquantile</strong> qui généralise la notion de médiane : les premier et troisième quantiles <span class="math notranslate nohighlight">\(q_1\)</span> et <span class="math notranslate nohighlight">\(q_3\)</span> définissent les valeurs qui définissent respectivement les premier et troisième quarts de l’échantillon ordonné.
On a donc un quart des données plus petites que <span class="math notranslate nohighlight">\(q_1\)</span>, la moitié entre <span class="math notranslate nohighlight">\(q_1\)</span> et <span class="math notranslate nohighlight">\(q_3\)</span> et un dernier quart plus grandes que <span class="math notranslate nohighlight">\(q_3\)</span>: on définit donc <span class="math notranslate nohighlight">\(\delta q = q_3 - q_1\)</span> la distance interquantile: il s’agit bien d’une mesure de la dispersion des données (autour de la médiane cette fois-ci).
On eput donc calculer les quantiles comme ci-dessous.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">quantiles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">temperatures</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Le premier quantile est à </span><span class="si">{:.2f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">quantiles</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Le troisième quantile est à </span><span class="si">{:.2f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">quantiles</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La distance interquantile vaut </span><span class="si">{:.2f}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">quantiles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">quantiles</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Le premier quantile est à 19.09 C
Le troisième quantile est à 27.41 C
La distance interquantile vaut 8.32 C
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="covariance-et-correlations">
<h2>Covariance et corrélations<a class="headerlink" href="#covariance-et-correlations" title="Permalink to this headline">#</a></h2>
<p>La <strong>covariance</strong> est une généralisation de la variance des échantillons contenant plusieurs grandeurs pour chaque mesure (comme celle de la température et de l’humidité) et vaut pour un échantillon constitué de <span class="math notranslate nohighlight">\(n\)</span> couples <span class="math notranslate nohighlight">\((x_i,y_i)\)</span> :</p>
<div class="math notranslate nohighlight">
\[cov(x,y) = \frac{1}{n} \sum _i (x_i - \overline{x})(y_i - \overline{y}) = \overline{xy} - \overline{x}\times\overline{y}.\]</div>
<p>On a bien <span class="math notranslate nohighlight">\(cov(x,x) = var(x) = \sigma _x^2\)</span> et <span class="math notranslate nohighlight">\(cov(y,y) = var(y) = \sigma _y^2\)</span>.</p>
<p>On peut alors définir le <strong>coefficient de corrélation</strong> <span class="math notranslate nohighlight">\(\rho\)</span> tel que:</p>
<div class="math notranslate nohighlight">
\[\rho = \frac{cov(x,y)}{\sigma_x\sigma_y}.\]</div>
<p>Ce nombre compris entre -1 et 1 définit le niveau de corrélation entre les deux grandeurs <span class="math notranslate nohighlight">\(x\)</span> et <span class="math notranslate nohighlight">\(y\)</span>: un échantillon est entièrement corrélé si <span class="math notranslate nohighlight">\(\rho = 1\)</span>, entièrement décorrélé si <span class="math notranslate nohighlight">\(\rho = -1\)</span> et décorrélé si <span class="math notranslate nohighlight">\(\rho = 0\)</span>.</p>
<p>Par exemple, on peut calculer le coefficient de corrélation entre la température et l’humidité relative de la semaine 38 de 2020.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">temperatures</span><span class="p">,</span> <span class="n">hygrometries</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Le coefficient de corrélation entre la température et l&#39;humidité vaut </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">corr</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Le coefficient de corrélation entre la température et l&#39;humidité vaut -0.81
</pre></div>
</div>
</div>
</div>
<p>On observe une anti-corrélation assez forte que l’on peut voir sur le graphe de la température en fonction de l’humidité relative.</p>
<p>Un point important à noter est qu’avoir un coefficient de corrélation nul ne signifie pas que les deux grandeurs sont indépendantes, comme sur la figure suivante.
<img alt="Alt" src="../_images/correlation-example.png" />
En effet, la notion d’indépendance entre deux grandeurs est généralement trop complexe pour être apparente avec une réduction à un seul nombre.</p>
<div class="exercise admonition" id="stats-meteo">

<p class="admonition-title"><span class="caption-number">Exercise 3 </span></p>
<section id="exercise-content">
<p>Nous allons caractériser la distribution de mesures de température et de pression avec des grandeurs statistiques comme la moyenne <span class="math notranslate nohighlight">\(\mu\)</span>, la variance <span class="math notranslate nohighlight">\(\sigma ^2\)</span>, l’asymmétrie <span class="math notranslate nohighlight">\(S\)</span> (<em>skew</em> en anglais) et l’applatissement <span class="math notranslate nohighlight">\(K\)</span> (<em>kurtosis</em> en anglais):</p>
<div class="math notranslate nohighlight">
\[ S = \frac{1}{N}\sum _{i=0} ^N \left(\frac{x_i - \mu}{\sigma}\right)^3 \]</div>
<div class="math notranslate nohighlight" id="equation-def-skew">
<span class="eqno">(13)<a class="headerlink" href="#equation-def-skew" title="Permalink to this equation">#</a></span>\[ = \frac{\frac{1}{N}\sum _{i=0} ^N \left(x_i\right)^3 - 3\mu\sigma^2 - \mu^3 }{\sigma ^3} \]</div>
<div class="math notranslate nohighlight" id="equation-def-kurtosis">
<span class="eqno">(14)<a class="headerlink" href="#equation-def-kurtosis" title="Permalink to this equation">#</a></span>\[ K = \frac{1}{N}\sum _{i=0} ^N \left(\frac{x_i - \mu}{\sigma}\right)^4 \]</div>
<p>Les données se trouvent dans le fichier “meteo.csv” utilisé plus haut.</p>
<ol class="simple">
<li><p>Lire les données en utilisant \pyv{pandas} et extraire les données de température et de pression.
Représenter les données de pression sous la forme d’un histogramme.</p></li>
<li><p>En utilisant les équations <a class="reference internal" href="#equation-def-moyenne">(11)</a> et <a class="reference internal" href="#equation-def-variance-stats">(12)</a>, déterminer la valeur de la moyenne et de la variance pour la pression.</p></li>
<li><p>Calculer l’asymmétrie <span class="math notranslate nohighlight">\(S\)</span> <a class="reference internal" href="#equation-def-skew">(13)</a> et l’applatissement <span class="math notranslate nohighlight">\(K\)</span> <a class="reference internal" href="#equation-def-kurtosis">(14)</a> de la pression.
<strong>Note:</strong> on pourra utiliser les deux expressions données pour <span class="math notranslate nohighlight">\(S\)</span> et comparer les résultats.</p></li>
<li><p>Calculer la covariance et le coefficient de corrélation entre la pression et la température.
Est ce que la valeur de la corrélation vous semble pertinente?
<strong>Note:</strong> Vous pouvez tracer les valeurs de pression et de température sur un graphique pour conclure.</p></li>
</ol>
</section>
</div>
<div class="solution dropdown admonition" id="chap1/caracterisation_representation-solution-1">

<p class="admonition-title">Solution to<a class="reference internal" href="#stats-meteo"> Exercise 3</a></p>
<section id="solution-content">
<ol>
<li><p>On récupère les données sur le même lien avant de faire le graphique.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># importer maplotlib </span>

<span class="c1"># lecture du fichier par pandas</span>
<span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://github.com/guiguem/physexp2/releases/download/v1/meteo.csv&#39;</span>
<span class="n">df</span> <span class="o">=</span>  <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Extraction des valeurs de températeurs, d&#39;hygrométrie et de pression (on utilise `pd.to_numeric` pour convertir en valeurs numériques)</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">hygrometrie</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">pression</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">pression</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;pression&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Pression [hPa]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>On calcule la moyenne et la variance</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="n">moy_pression</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pression</span><span class="p">:</span>
    <span class="n">moy_pression</span> <span class="o">=</span> <span class="n">moy_pression</span> <span class="o">+</span> <span class="n">p</span>
<span class="n">moy_pression</span> <span class="o">=</span> <span class="n">moy_pression</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moyenne=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">moy_pression</span><span class="p">))</span>

<span class="n">var_pression</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pression</span><span class="p">:</span>
    <span class="n">var_pression</span> <span class="o">=</span> <span class="n">var_pression</span> <span class="o">+</span> <span class="n">p</span><span class="o">**</span><span class="mi">2</span>
<span class="n">var_pression</span> <span class="o">=</span> <span class="n">var_pression</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span> <span class="o">-</span> <span class="n">moy_pression</span> <span class="o">**</span><span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Variance=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">var_pression</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Std=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_pression</span><span class="p">)))</span>
</pre></div>
</div>
</li>
<li><p>On calcule le skew et le kurtosis</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">skew_pression</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">skew2_pression</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pression</span><span class="p">:</span>
    <span class="n">skew_pression</span> <span class="o">=</span> <span class="n">skew_pression</span> <span class="o">+</span> <span class="p">((</span><span class="n">p</span><span class="o">-</span><span class="n">moy_pression</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_pression</span><span class="p">))</span><span class="o">**</span><span class="mi">3</span>
    <span class="n">skew2_pression</span> <span class="o">=</span> <span class="n">skew2_pression</span> <span class="o">+</span> <span class="n">p</span><span class="o">**</span><span class="mi">3</span>
<span class="n">skew_pression</span> <span class="o">=</span> <span class="n">skew_pression</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span>
<span class="n">skew2_pression</span> <span class="o">=</span> <span class="p">(</span><span class="n">skew2_pression</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">moy_pression</span> <span class="o">*</span> <span class="n">var_pression</span> <span class="o">-</span> <span class="n">moy_pression</span> <span class="o">**</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">var_pression</span> <span class="o">**</span><span class="mf">1.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skewness=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">skew_pression</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skewness_2=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">skew2_pression</span><span class="p">))</span>

<span class="n">kurt_pression</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pression</span><span class="p">:</span>
    <span class="n">kurt_pression</span> <span class="o">=</span> <span class="n">kurt_pression</span> <span class="o">+</span> <span class="p">((</span><span class="n">p</span><span class="o">-</span><span class="n">moy_pression</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_pression</span><span class="p">))</span><span class="o">**</span><span class="mi">4</span>
<span class="n">kurt_pression</span> <span class="o">=</span> <span class="n">kurt_pression</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Kurtosis=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">kurt_pression</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p>On commence par calculer la moyenne et la variance de la temperature avant de calculer la covariance et la corrélation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calcul de la moyenne et de la variance</span>
<span class="n">moy_temperature</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">temperature</span><span class="p">:</span>
    <span class="n">moy_temperature</span> <span class="o">=</span> <span class="n">moy_temperature</span> <span class="o">+</span> <span class="n">t</span>
<span class="n">moy_temperature</span> <span class="o">=</span> <span class="n">moy_temperature</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temperature</span><span class="p">)</span>

<span class="n">var_temperature</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">temperature</span><span class="p">:</span>
    <span class="n">var_temperature</span> <span class="o">=</span> <span class="n">var_temperature</span> <span class="o">+</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span>

<span class="n">var_temperature</span> <span class="o">=</span> <span class="n">var_temperature</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temperature</span><span class="p">)</span> <span class="o">-</span> <span class="n">moy_temperature</span> <span class="o">**</span><span class="mi">2</span>

<span class="c1"># Calcul de la covariance et de la correlation</span>
<span class="n">cov</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)):</span>
    <span class="n">cov</span> <span class="o">=</span> <span class="n">cov</span> <span class="o">+</span> <span class="p">(</span><span class="n">temperature</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">moy_temperature</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">pression</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">moy_pression</span><span class="p">)</span>
<span class="n">cov</span> <span class="o">=</span> <span class="n">cov</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span>
<span class="n">corr</span> <span class="o">=</span> <span class="n">cov</span> <span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_temperature</span><span class="o">*</span><span class="n">var_pression</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Covariance=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cov</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Corrélation=</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">corr</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">axs</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pression</span><span class="p">,</span><span class="n">temperature</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Température [C]&quot;</span><span class="p">)</span>  <span class="c1"># we already handled the x-label with ax1</span>
<span class="n">axs</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Pression [hPa]&quot;</span><span class="p">)</span>  <span class="c1"># we already handled the x-label with ax1</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ol>
</section>
</div>
<div class="cell tag_remove-input tag_hide-output docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Moyenne=1018.57
Variance=14.27
Std=3.78
Skewness=-0.19
Skewness_2=-0.19
Kurtosis=1.87
Covariance=-6.33
Corrélation=-0.32
</pre></div>
</div>
<img alt="../_images/caracterisation_representation_21_1.png" src="../_images/caracterisation_representation_21_1.png" />
<img alt="../_images/caracterisation_representation_21_2.png" src="../_images/caracterisation_representation_21_2.png" />
</div>
</div>
<div class="exercise admonition" id="stats-meteo-bin">

<p class="admonition-title"><span class="caption-number">Exercise 4 </span></p>
<section id="exercise-content">
<p>Maintenant nous allons essayer de calculer la moyenne et la variance de l’échantillon en utilisant les données représentées par un histogramme.
Notamment on peut calculer la moyenne de l’échantillon par la relation:</p>
<div class="amsmath math notranslate nohighlight" id="equation-88fd1d1e-789c-43b9-aae2-0bfd10b52b8c">
<span class="eqno">(15)<a class="headerlink" href="#equation-88fd1d1e-789c-43b9-aae2-0bfd10b52b8c" title="Permalink to this equation">#</a></span>\[\begin{equation}
    m = \sum _{i=0}^k f_i \frac{I_i + I_{i+1}}{2},
\end{equation}\]</div>
<p>avec <span class="math notranslate nohighlight">\(I_i\)</span> la bordure du bin <span class="math notranslate nohighlight">\(i\)</span> (<span class="math notranslate nohighlight">\(I_i\)</span> est la borne inférieure du bin <span class="math notranslate nohighlight">\(i\)</span> et <span class="math notranslate nohighlight">\(I_{i+1}\)</span> la borne supérieure du bin i) et <span class="math notranslate nohighlight">\(f_i\)</span> la fréquence du bin <span class="math notranslate nohighlight">\(i\)</span>.
On prend <span class="math notranslate nohighlight">\(\frac{I_i + I_{i+1}}{2}\)</span> qui correspond au centre du bin <span class="math notranslate nohighlight">\(i\)</span>.
De manière similaire, la variance se calcule grâce à la relation:</p>
<div class="amsmath math notranslate nohighlight" id="equation-cd50a51f-560c-4446-a003-a0ab3251f73f">
<span class="eqno">(16)<a class="headerlink" href="#equation-cd50a51f-560c-4446-a003-a0ab3251f73f" title="Permalink to this equation">#</a></span>\[\begin{equation}
    v = \sum _{i=0}^k f_i \left ( \frac{I_i + I_{i+1}}{2} - m\right) ^2.
\end{equation}\]</div>
<p>Lorsqu’on trace un histogramme avec ```matplotlib par exemple en utilisant:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">pression</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;pression&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">n</span></code> est le contenu de chaque bin (sous forme de liste) et <code class="docutils literal notranslate"><span class="pre">ax</span></code> est une liste contenant les bordures de chaque bin (de taille <span class="math notranslate nohighlight">\(M+1\)</span> avec <span class="math notranslate nohighlight">\(M\)</span> le nombre de bins de l’histogramme).</p>
<ol class="simple">
<li><p>Créer une fonction python qui calcule la moyenne et la variance pour des données binnées.
Cette fonction prendra en paramètre d’entrée le nombre de bins de l’histogramme pour ce calcul.</p></li>
<li><p>Tracer l’écart entre la moyenne et la variance calculées avec la fonction et la moyenne et variance calculées dans les questions précédentes, en fonction du nombre de bins.
Utiliser le graphique obtenu pour en déduire une valeur optimale du nombre de bins.</p></li>
</ol>
</section>
</div>
<div class="solution dropdown admonition" id="chap1/caracterisation_representation-solution-3">

<p class="admonition-title">Solution to<a class="reference internal" href="#stats-meteo-bin"> Exercise 4</a></p>
<section id="solution-content">
<ol>
<li><p>On crée la fonction avec <code class="docutils literal notranslate"><span class="pre">nbins</span></code> le paramètre qui donne le nombre de bins à utiliser pour le calcul de la moyenne.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">stats_bin</span><span class="p">(</span><span class="n">nbins</span><span class="p">):</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">pression</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">nbins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;pression&quot;</span><span class="p">)</span>
    <span class="n">moy_h</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pression</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)):</span>
        <span class="n">moy_h</span> <span class="o">=</span> <span class="n">moy_h</span> <span class="o">+</span> <span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">N</span><span class="o">*</span><span class="p">(</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mf">2.</span>
    <span class="n">v_h</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)):</span>
        <span class="n">v_h</span> <span class="o">=</span> <span class="n">v_h</span> <span class="o">+</span> <span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">N</span><span class="o">*</span><span class="p">((</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mf">2.</span> <span class="o">-</span> <span class="n">moy_h</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">moy_h</span><span class="p">,</span> <span class="n">v_h</span>
</pre></div>
</div>
</li>
<li><p>On créer une liste avec la moyenne et les écart-types et on fait un graphique.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">list_n</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">200</span><span class="p">)]</span>
<span class="n">list_ecart_moy</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">list_ecart_var</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_n</span><span class="p">:</span>
    <span class="n">m</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">stats_bin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">list_ecart_moy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">moy_pression</span><span class="p">)</span>
    <span class="n">list_ecart_var</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">-</span><span class="n">var_pression</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span><span class="c1"># creation d&#39;un plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">list_n</span><span class="p">,</span><span class="n">list_ecart_moy</span><span class="p">,</span><span class="s2">&quot;--o&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;moyenne&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">list_n</span><span class="p">,</span><span class="n">list_ecart_var</span><span class="p">,</span><span class="s2">&quot;--o&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;variance&quot;</span><span class="p">)</span>
<span class="n">leg</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>A partir du graphique obtenu, on peut voir qu’au delà de 150 bins, il ne semble pas y avoir des sauts trop brusques de la moyenne ou de la variance.
Cependant ce nombre de bins est très proche du nombre de points de données (192), ce qui rend la réduction du volume de données moins intéressante.</p>
</li>
</ol>
</section>
</div>
<div class="cell tag_remove-input tag_hide-output docutils container">
<div class="cell_output docutils container">
<img alt="../_images/caracterisation_representation_24_0.png" src="../_images/caracterisation_representation_24_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chap1"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="ensemble.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Définition ensembliste et propriétés des probabilités</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../chap2/chap2.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lois de probabilités et mesures expérimentales</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mathieu Guigue<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>